<div class="container">
  <acme-navbar></acme-navbar>
  <div class="jumbotron">
    <h1>{{restaurant.restaurantDetails.name}}</h1>
    <rating ng-model="restaurant.rating" data-readonly="true" max="10"  aria-labelledby="default-rating"></rating>
    <address>
      {{restaurant.restaurantDetails.location.address}}, {{restaurant.restaurantDetails.location.crossStreet}}<br>
      {{restaurant.restaurantDetails.location.city}}<br>
      <abbr title="Phone">P:</abbr> <a href="tel:{{restaurant.restaurantDetails.contact.phone}}">
      {{restaurant.restaurantDetails.contact.formattedPhone}}
    </a>
    </address>
    <div class="row">
      <div class="col-md-8">
        <div ng-repeat="tip in restaurant.restaurantDetails.tips.groups[0].items.slice(((restaurant.currentPage-1)*restaurant.itemsPerPage), ((restaurant.currentPage)*restaurant.itemsPerPage))">
          <div class="clearfix" ng-if="$index % 2== 0"></div>
          <div class="panel panel-default">
          <div class="panel-heading">{{tip.user.firstName}}{{tip.firstName}} {{tip.user.lastName}}</div>
          <div class="panel-body">
            {{tip.text}}
          </div>
          </div>
        </div>
        <pagination total-items="restaurant.totalItems" ng-model="restaurant.currentPage" ng-change="pageChanged()" class="pagination-sm" items-per-page="restaurant.itemsPerPage"></pagination>
      </div>
      <div class="col-md-4">
        <carousel interval="3000">
          <slide ng-repeat="slide in restaurant.restaurantDetails.photos.groups[0].items" >
            <img ng-src="{{slide.prefix}}400x400{{slide.suffix}}" style="margin:auto;">
          </slide>
        </carousel>
      </div>
    </div>

    <button type="button" class="btn btn-primary" ng-if="!restaurant.writeReview" ng-click="restaurant.writeReview=true">Write a review</button>
    <form name="reviewForm" novalidate ng-submit="restaurant.addRestaurantReview()" autocomplete="on" class="form-horizontal" ng-if="restaurant.writeReview">

      <div class="form-group required">
        <label for="inputRating" class="control-label">Rating</label><br>
        <rating ng-model="restaurant.rating" id="inputRating" max="10" style="color:#286090"  aria-labelledby="default-rating"></rating>
      </div>
      <div class="form-group required">
      <label for="inputAuthor" class="control-label">Name</label>
      <input type="text" ng-model="restaurant.author" class="form-control" id="inputAuthor" placeholder="Name" required>
    </div>
    <div class="form-group required">
      <label for="inputReview" class="control-label">Review</label>
      <textarea ng-model="restaurant.review" class="form-control" id="inputReview" placeholder="Review" required></textarea>
    </div>
      <input type="submit" class="btn btn-primary btn-lg btn-block"
             ng-disabled="reviewForm.$invalid || !reviewForm.$dirty" value="Submit">
    </form>
  </div>
  </div>
